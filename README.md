# PolyVis
Repository for calculating polygon of visibility using polygons.

## Status
 
 - Script for performance comparison between TriVis and PolyVis should be fully working.

## TODOs

 - Analyze time measurements and plan new steps.

## Setup
Git is currently not well managed, but for current functionality can be already tested.

In source folder make build folder (unless its already there) and use cmake and make there.
```commandline
mkdir build
cd build
cmake ../source
make
```

## Usage
### Example call
```
./PolyVis -m potholes -n 1000000
```

### Example output
```
------------------------------------------------------------------
* This software uses the Fade2D library under a student license. 
  Commercial use requires a valid commercial license, please visit 
  http://www.geom.at/licensing 

  Geom Software, Bernhard Kornberger
  C++ Freelancer, bkorn@geom.at
  http://www.geom.at

  (Fade2D serial no: 5303992d 6e923f87)

Preparing meshes, initializing TriVis and PolyVis solvers.
Generating points. (TriVis feature, points are converted for polyanya)

Computing polygon of visibility on map potholes.

Running TriVis.
Total computation time of 1000000 random points was 10.744 seconds.
Mean computation time of 1000000 random points was 1.0744e-05 seconds/point.

Running PolyVis on triangular mesh.
Total computation time of 1000000 random points was 10.2242 seconds.
Mean computation time of 1000000 random points was 1.02242e-05 seconds/point.

Running PolyVis on polygonal mesh.
Total computation time of 1000000 random points was 7.26325 seconds.
Mean computation time of 1000000 random points was 7.26325e-06 seconds/point.
```

### Measurement CLI
```
------------------------------------------------------------------
* This software uses the Fade2D library under a student license. 
  Commercial use requires a valid commercial license, please visit 
  http://www.geom.at/licensing 

  Geom Software, Bernhard Kornberger
  C++ Freelancer, bkorn@geom.at
  http://www.geom.at

  (Fade2D serial no: 5303992d 6e923f87)


General options:
  -h [ --help ]                                                                 Produce this help message. 
                                                                                 (*) Overwrites options: all.
  -m [ --map-name ] arg (=undefined)                                            Map name.
  --map-ext arg (=.txt)                                                         Map file extension.
  --map-dir arg (=/home/jakub/Projects/PolyVis/source/data/maps)                Map file directory.
  --map arg                                                                     Full path to the map file. 
                                                                                 (*) Overwrites options: map_name, map_ext, map_dir.
  -s [ --map-scale ] arg                                                        Map scale (optional).
  -r [ --vis-radius ] arg (=-1)                                                 Visibility radius (-1 ~ infinite).
  -n [ --n-random-samples ] arg (=1)                                            How many random samples should be generated.
  --random-seed arg (=4102821021)                                               Seed for the random generator (generated by std::random_device{}() by default).

```
